<launch>

  <arg name="uav_name" default="$(optenv UAV_NAME uav)"/>

  <arg name="world_frame" default="$(arg uav_name)/stable_origin" />

  <group ns="$(arg uav_name)">

    <node name="compton_filter" pkg="nodelet" type="nodelet" args="standalone compton_camera_filter/ComptonFilter" output="screen">

      <rosparam file="$(find compton_camera_filter)/config/kalman.yaml" command="load" />

      <param name="uav_name" value="$(arg uav_name)" />
      <param name="world_frame" value="$(arg world_frame)" />

      <!-- subscribed topics -->
      <remap from="~cone_in" to="/cones" />
      <remap from="~optimizer_in" to="/cone_optimizer/pose" />

      <!-- advertised topics -->
      <remap from="~pose_2D_out" to="~pose_2D" />
      <remap from="~pose_3D_out" to="~pose_3D" />

      <!-- services -->
      <remap from="~search_out" to="trajectory_planner/search" />
      <remap from="~reset_out" to="cone_optimizer/reset" />

    </node>

  </group>

</launch>

<launch>

  <arg name="uav_name" default="$(optenv UAV_NAME uav)"/>

  <group ns="$(arg uav_name)">

    <node name="trajectory_planner" pkg="nodelet" type="nodelet" args="standalone compton_camera_filter/TrajectoryPlanner" output="screen">

      <rosparam file="$(find compton_camera_filter)/config/planner.yaml" command="load" />

      <param name="uav_name" value="$(arg uav_name)" />

      <!-- subscribed topics -->
      <remap from="~pose_in" to="compton_filter/pose_3D" />
      <remap from="~optimizer_in" to="cone_optimizer/pose" />
      <remap from="~odom_in" to="odometry/odom_main" />
      <remap from="~swarm_in" to="/swarm_control" />

      <!-- advertised topics -->
      <remap from="~trajectory_out" to="control_manager/trajectory_reference" />
      <remap from="~swarm_out" to="/swarm_control" />

      <!-- services -->
      <remap from="~search_in" to="~search" />

    </node>

  </group>

</launch>
